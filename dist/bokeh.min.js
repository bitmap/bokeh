!function(){"use strict";function e(e,t){Array.prototype.forEach.call(e,t)}function t(e){return document.createElement(e)}var i={anchors:document.querySelectorAll(".bokeh-link"),blur:document.querySelector(".bokeh-blur"),init:function(e){var i,n,a=this,r=t("div");e.setAttribute("data-bokeh",!0),i=e.querySelectorAll("img"),a.makeTabs(e,i,r),a.makeButtons(e,r),n=e.querySelectorAll(".bokeh__tabs > li"),a.setActive(n[0],i[0])},makeTabs:function(n,a,r){n.appendChild(r).className="bokeh__controls",r.appendChild(t("ul")).className="bokeh__tabs";var l,s=n.querySelector(".bokeh__tabs",n);e(a,function(e,n){l=t("li"),s.appendChild(l),l.setAttribute("data-index",n),e.setAttribute("data-index",n),l.innerHTML=n+1,i.tabClickHandler(l,e)})},closeModal:function(e){e.classList.remove("is-visible"),i.blur&&i.blur.classList.remove("has-blur")},nextImg:function(e){var t,n,a=e.target.parentElement.parentElement,r=a.querySelector(".bokeh__tabs li"),l=a.querySelector("img"),s=a.querySelector(".bokeh__tabs .is-active"),c=a.querySelector("img.is-active");t=s.nextElementSibling,n=c.nextElementSibling,t||(t=r),"IMG"!==n.tagName&&(n=l),i.setActive(t,n)},prevImg:function(e){var t,n,a=e.target.parentElement.parentElement,r=a.querySelector(".bokeh__tabs li:last-of-type"),l=a.querySelector("img:last-of-type"),s=a.querySelector(".bokeh__tabs .is-active"),c=a.querySelector("img.is-active");t=s.previousElementSibling,n=c.previousElementSibling,t||(t=r),n||(n=l),i.setActive(t,n)},makeButtons:function(e,n){var a=t("button"),r=t("button");a.className="bokeh__next",r.className="bokeh__prev",a.innerHTML="Next",r.innerHTML="Prev",a.addEventListener("click",i.nextImg),r.addEventListener("click",i.prevImg),n.appendChild(r),n.appendChild(a),n.appendChild(t("button")).className="bokeh__close";var l=e.querySelector(".bokeh__close",e);l.innerHTML="CLOSE",l.addEventListener("click",function(){i.closeModal(e)})},tabClickHandler:function(e,t){e.addEventListener("click",function(){e.getAttribute("data-index")===t.getAttribute("data-index")&&i.setActive(e,t)})},setActive:function(e,t){function i(e){return e.parentNode.querySelector("."+n)}var n="is-active";null!==i(e)&&i(e).classList.remove(n),null!==i(t)&&i(t).classList.remove(n),t.hasAttribute("data-src")&&(t.setAttribute("src",t.getAttribute("data-src")),t.removeAttribute("data-src")),e.classList.add(n),t.classList.add(n)},showModal:function(e){var t=e.getAttribute("href").replace("#",""),n=document.getElementById(t);e.addEventListener("click",function(){n.classList.add("is-visible"),i.blur&&i.blur.classList.add("has-blur"),n.getAttribute("data-bokeh")||i.init(n)}),n.addEventListener("click",function(e){e.target===n&&i.closeModal(n)})}};e(i.anchors,function(e){i.showModal(e)})}();